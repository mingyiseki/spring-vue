{"remainingRequest":"D:\\springboot_vue-master\\demo\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\springboot_vue-master\\demo\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\springboot_vue-master\\demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\springboot_vue-master\\demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\springboot_vue-master\\demo\\vue\\src\\components\\Calendar.vue?vue&type=template&id=12cb4c6e","dependencies":[{"path":"D:\\springboot_vue-master\\demo\\vue\\src\\components\\Calendar.vue","mtime":1652459872000},{"path":"D:\\springboot_vue-master\\demo\\vue\\babel.config.js","mtime":1652459872000},{"path":"D:\\springboot_vue-master\\demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654883638225},{"path":"D:\\springboot_vue-master\\demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1654883638819},{"path":"D:\\springboot_vue-master\\demo\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1654883639428},{"path":"D:\\springboot_vue-master\\demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654883638225},{"path":"D:\\springboot_vue-master\\demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654883638928}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVTdHlsZSBhcyBfbm9ybWFsaXplU3R5bGUsIHdpdGhNb2RpZmllcnMgYXMgX3dpdGhNb2RpZmllcnMgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNhbGVuZGFyIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImhlYWRlciIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJ3ZWVrLWFyZWEiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAid2Vlay1mb250IGNhbGVuZGFyLWl0ZW0iCn07CnZhciBfaG9pc3RlZF81ID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAiZGF0YS1mb250IGNhbGVuZGFyLWl0ZW0iCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNlY3Rpb24iLCBfaG9pc3RlZF8yLCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnNlbGVjdERhdGEueWVhcikgKyAi5bm0IiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuc2VsZWN0RGF0YS5tb250aCkgKyAi5pyIIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuc2VsZWN0RGF0YS5kYXkpICsgIuaXpSAiLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInVsIiwgX2hvaXN0ZWRfMywgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEud2Vla0FyciwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJsaSIsIHsKICAgICAga2V5OiBpbmRleCwKICAgICAgY2xhc3M6ICJ3ZWVrLWl0ZW0iCiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzQsIF90b0Rpc3BsYXlTdHJpbmcoaXRlbSksIDEKICAgIC8qIFRFWFQgKi8KICAgICldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzZWN0aW9uIiwgewogICAgcmVmOiAiY2FsZW5kYXIiLAogICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSh7CiAgICAgIGhlaWdodDogJGRhdGEuaXNXZWVrVmlldyA/ICIiLmNvbmNhdCgkZGF0YS5pdGVtSGVpZ2h0ICsgJGRhdGEudG91Y2hBcmVhSGVpZ2h0LCAicHgiKSA6ICIiLmNvbmNhdCgkZGF0YS5saW5lTnVtICogJGRhdGEuaXRlbUhlaWdodCArICRkYXRhLnRvdWNoQXJlYUhlaWdodCwgInB4IiksCiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogIiIuY29uY2F0KCRkYXRhLm5lZWRIZWlnaHRBbmltYXRpb24gPyAkZGF0YS50cmFuc2l0aW9uRHVyYXRpb24gOiAwLCAicyIpCiAgICB9KSwKICAgIGNsYXNzOiAiZGF0YS1jb250YWluZXIiLAogICAgb25Ub3VjaGVuZDogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy50b3VjaEVuZCAmJiAkb3B0aW9ucy50b3VjaEVuZC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgb25Ub3VjaHN0YXJ0OiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnRvdWNoU3RhcnQgJiYgJG9wdGlvbnMudG91Y2hTdGFydC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgb25Ub3VjaG1vdmU6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gX3dpdGhNb2RpZmllcnMoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMudG91Y2hNb3ZlICYmICRvcHRpb25zLnRvdWNoTW92ZS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0sIFsic3RvcCIsICJwcmV2ZW50Il0pKQogIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzZWN0aW9uIiwgewogICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSh7CiAgICAgIHRyYW5zZm9ybTogInRyYW5zbGF0ZVgoIi5jb25jYXQoLSgkZGF0YS50cmFuc2xhdGVJbmRleCArIDEpICogMTAwLCAiJSkiKSwKICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAiIi5jb25jYXQoJGRhdGEubmVlZEFuaW1hdGlvbiA/ICRkYXRhLnRyYW5zaXRpb25EdXJhdGlvbiA6IDAsICJzIikKICAgIH0pLAogICAgY2xhc3M6ICJtb250aC1hcmVhIgogIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICBzdHlsZTogX25vcm1hbGl6ZVN0eWxlKHsKICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlWSgiLmNvbmNhdCgkZGF0YS5vZmZzZXRZLCAicHgpIiksCiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogIiIuY29uY2F0KCRkYXRhLm5lZWRIZWlnaHRBbmltYXRpb24gPyAkZGF0YS50cmFuc2l0aW9uRHVyYXRpb24gOiAwLCAicyIpCiAgICB9KSwKICAgIGNsYXNzOiAiYmFubmVyLWFyZWEiCiAgfSwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuYWxsRGF0YUFyciwgZnVuY3Rpb24gKG1vbnRoSXRlbSwgbW9udGhJbmRleCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidWwiLCB7CiAgICAgIGtleTogbW9udGhJbmRleCwKICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSh7CiAgICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlWCgiLmNvbmNhdCgoJGRhdGEudHJhbnNsYXRlSW5kZXggKyAkZGF0YS5pc1RvdWNoaW5nID8gJGRhdGEudG91Y2gueCA6IDApICogMTAwLCAiJSkiKSwKICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246ICIiLmNvbmNhdCgkZGF0YS5pc1RvdWNoaW5nID8gMCA6ICRkYXRhLnRyYW5zaXRpb25EdXJhdGlvbiwgInMiKQogICAgICB9KSwKICAgICAgY2xhc3M6ICJkYXRhLWFyZWEiCiAgICB9LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChtb250aEl0ZW0sIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJsaSIsIHsKICAgICAgICBrZXk6IGluZGV4LAogICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWydkYXRhLWl0ZW0nLCB7CiAgICAgICAgICBzZWxlY3RlZDogaXRlbS5pc1NlbGVjdGVkCiAgICAgICAgfSwgewogICAgICAgICAgJ290aGVyLWl0ZW0nOiBpdGVtLnR5cGUgIT09ICdub3JtYWwnICYmICEkZGF0YS5pc1dlZWtWaWV3CiAgICAgICAgfV0pLAogICAgICAgIHN0eWxlOiBfbm9ybWFsaXplU3R5bGUoImhlaWdodDogIi5jb25jYXQoJGRhdGEuaXRlbUhlaWdodCwgInB4IikpLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJG9wdGlvbnMuY2hlY2tvdXREYXRlKGl0ZW0pOwogICAgICAgIH0KICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF82LCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0uZGF5KSwgMQogICAgICAvKiBURVhUICovCiAgICAgICldLCAxNAogICAgICAvKiBDTEFTUywgU1RZTEUsIFBST1BTICovCiAgICAgICwgX2hvaXN0ZWRfNSk7CiAgICB9KSwgMTI4CiAgICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICAgKSldLCA0CiAgICAvKiBTVFlMRSAqLwogICAgKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0sIDQKICAvKiBTVFlMRSAqLwogICldLCA0CiAgLyogU1RZTEUgKi8KICApXSwgMzYKICAvKiBTVFlMRSwgSFlEUkFURV9FVkVOVFMgKi8KICApXSk7Cn0="},{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;AACAA,OAAK,EAAC;;;AAGXA,OAAK,EAAC;;;AAEAA,OAAK,EAAC;;;;AAsDAA,OAAK,EAAC;;;uBA5DxBC,oBAkEM,KAlEN,cAkEM,CAjEJC,oBAEU,SAFV,cAEUC,iBADLC,iBAAWC,IACN,IADa,GACb,GADcF,iBAAGC,iBAAWE,KAAd,CACd,GADoC,GACpC,GADqCH,iBAAGC,iBAAWG,GAAd,CACrC,GADyD,IADnE,EAEA;AAAA;AAFA,GAiEI,EA9DJL,oBAIK,IAJL,cAIK,oBAHHD,oBAEKO,SAFL,EAEK,IAFL,EAEKC,YAFuBL,aAEvB,EAF8B,UAAvBM,IAAuB,EAAjBC,KAAiB,EAAZ;yBAAvBV,oBAEK,IAFL,EAEK;AAFiCW,SAAG,EAAED,KAEtC;AAF6CX,WAAK,EAAC;AAEnD,KAFL,GACEE,oBAAuD,MAAvD,cAAuDC,iBAAdO,IAAc,CAAvD,EAA6C;AAAA;AAA7C,MADF;GAEK,CAFL;;AAAA,GAGG,EAJL,CA8DI,EAzDJR,oBAwDU,SAxDV,EAwDU;AAvDNW,OAAG,EAAC,UAuDE;AAtDLC,SAAK;cAAoBV,6BAA0BA,mBAAaA,qBAAvC,oBAA0EA,gBAAUA,gBAAV,GAAuBA,qBAAjG,OAApB;oCAAyKA,4BAAsBA,wBAAtB,GAAwC;AAAjN,MAsDA;AAhDNJ,SAAK,EAAC,gBAgDA;AA/CLe,cAAQ;AAAA,aAAEC,iEAAF;AAAA,MA+CH;AA9CLC,gBAAU;AAAA,aAAED,qEAAF;AAAA,MA8CL;AA7CLE,eAAS;AAAA,aAAeF,mEAAf;AAAA,OAAwB,mBAAxB;AA6CJ,GAxDV,GAaEd,oBA0CU,SA1CV,EA0CU;AAzCLY,SAAK;wCAAyCV,uBAAc,eAAvD;oCAAyGA,sBAAgBA,wBAAhB,GAAkC;AAA3I,MAyCA;AArCNJ,SAAK,EAAC;AAqCA,GA1CV,GAOEE,oBAkCM,KAlCN,EAkCM;AAjCDY,SAAK;sCAAyCV,qBAAzC;oCAAyGA,4BAAsBA,wBAAtB,GAAwC;AAAjJ,MAiCJ;AA3BFJ,SAAK,EAAC;AA2BJ,GAlCN,sBASEC,oBAwBKO,SAxBL,EAwBK,IAxBL,EAwBKC,YAvBiCL,gBAuBjC,EAvB2C,UAApCe,SAAoC,EAAzBC,UAAyB,EAAf;yBADjCnB,oBAwBK,IAxBL,EAwBK;AAtBAW,SAAG,EAAEQ,UAsBL;AArBAN,WAAK;yCAA6DV,uBAAiBA,gBAAjB,GAA8BA,YAAMiB,CAApC,GAAqC,eAAlG;sCAAuKjB,mBAAU,CAAV,GAAiBA;AAAxL,QAqBL;AAfDJ,WAAK,EAAC;AAeL,KAxBL,sBAWEC,oBAYKO,SAZL,EAYK,IAZL,EAYKC,YAXuBU,SAWvB,EAXgC,UAAzBT,IAAyB,EAAnBC,KAAmB,EAAd;2BADvBV,oBAYK,IAZL,EAYK;AAVAW,WAAG,EAAED,KAUL;AATAX,aAAK;oBAA6DU,IAAI,CAACY;SAAlE;wBAAgHZ,IAAI,CAACa,IAAL,KAAS,QAAT,IAAS,CAAkBnB;SAA3I,EASL;AAJAU,aAAK,oCAAaV,gBAAb,QAIL;AAHAoB,eAAK;AAAA,iBAAER,sBAAaN,IAAb,CAAF;AAAA;AAGL,OAZL,GAWER,oBAA2D,MAA3D,cAA2DC,iBAAlBO,IAAI,CAACH,GAAa,CAA3D,EAAiD;AAAA;AAAjD,QAXF;;AAAA;KAYK,CAZL;;AAAA,OAXF;;AAAA;GAwBK,CAxBL;;AAAA,KATF;;AAAA,IAPF;;AAAA,IAbF;;AAAA,GAyDI,CAlEN","names":["class","_createElementBlock","_createElementVNode","_toDisplayString","$data","year","month","day","_Fragment","_renderList","item","index","key","ref","style","onTouchend","$options","onTouchstart","onTouchmove","monthItem","monthIndex","x","isSelected","type","onClick"],"sourceRoot":"","sources":["D:\\springboot_vue-master\\demo\\vue\\src\\components\\Calendar.vue"],"sourcesContent":["<template>\n  <div class=\"calendar\">\n    <section class=\"header\">\n      {{ selectData.year }}年{{ selectData.month }}月{{ selectData.day }}日\n    </section>\n    <ul class=\"week-area\">\n      <li v-for=\"(item, index) in weekArr\" :key=\"index\" class=\"week-item\">\n        <span class=\"week-font calendar-item\">{{ item }}</span>\n      </li>\n    </ul>\n    <section\n        ref=\"calendar\"\n        :style=\"{\n        height: isWeekView\n          ? `${itemHeight + touchAreaHeight}px`\n          : `${lineNum * itemHeight + touchAreaHeight}px`,\n        transitionDuration: `${needHeightAnimation ? transitionDuration : 0}s`,\n      }\"\n        class=\"data-container\"\n        @touchend=\"touchEnd\"\n        @touchstart=\"touchStart\"\n        @touchmove.stop.prevent=\"touchMove\"\n    >\n      <section\n          :style=\"{\n          transform: `translateX(${-(translateIndex + 1) * 100}%)`,\n          transitionDuration: `${needAnimation ? transitionDuration : 0}s`,\n        }\"\n          class=\"month-area\"\n      >\n        <div\n            :style=\"{\n            transform: `translateY(${offsetY}px)`,\n            transitionDuration: `${\n              needHeightAnimation ? transitionDuration : 0\n            }s`,\n          }\"\n            class=\"banner-area\"\n        >\n          <ul\n              v-for=\"(monthItem, monthIndex) in allDataArr\"\n              :key=\"monthIndex\"\n              :style=\"{\n              transform: `translateX(${\n                (translateIndex + isTouching ? touch.x : 0) * 100\n              }%)`,\n              transitionDuration: `${isTouching ? 0 : transitionDuration}s`,\n            }\"\n              class=\"data-area\"\n          >\n            <li\n                v-for=\"(item, index) in monthItem\"\n                :key=\"index\"\n                :class=\"[\n                'data-item',\n                { selected: item.isSelected },\n                { 'other-item': item.type !== 'normal' && !isWeekView },\n              ]\"\n                :style=\"`height: ${itemHeight}px`\"\n                @click=\"checkoutDate(item)\"\n            >\n              <span class=\"data-font calendar-item\">{{ item.day }}</span>\n            </li>\n          </ul>\n        </div>\n      </section>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"calender\",\n  data() {\n    return {\n      weekArr: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"], // 星期数组\n      dataArr: [], // 当前可视区域数据\n      allDataArr: [], // 轮播数组\n      selectData: {}, // 选中日期信息 -> year, month, day\n      isSelectedCurrentDate: false, // 是否点选当前月份信息 (配合月视图减少点击切换时的数组更新)\n      translateIndex: 0, // 轮播所在位置\n      transitionDuration: 0.3, // 动画持续时间\n      needAnimation: true, // 左右滑动是否需要动画\n      isTouching: false, // 是否为touch状态\n      touchStartPositionX: null, // 初始滑动 X的值\n      touchStartPositionY: null, // 初始滑动 Y的值\n      touch: {\n        // 本次touch事件，横向，纵向滑动的距离\n        x: 0,\n        y: 0,\n      },\n      isWeekView: false, // 周视图还是月视图\n      itemHeight: 50, // 子元素行高\n      needHeightAnimation: false, // 高度变化是否需要动画\n      offsetY: 0, // 周视图 Y轴偏移量\n      lineNum: 0, // 当前视图总行数\n      lastWeek: [], // 周视图 前一周数据\n      nextWeek: [], // 周视图 后一周数据\n      isDelay: true, // 是否延迟 (动画结束在处理数据)\n      touchAreaHeight: 40, // 底部区域高度\n      touchAreaPadding: 10, // 底部区域padding\n      isClicked: false, // 点选元素 (去除周视图切换月份时的动画延迟)\n    };\n  },\n  created() {\n    this.checkoutCurrentDate();\n  },\n  watch: {\n    dataArr: {\n      handler(val) {\n        this.changeAllData(val);\n      },\n      deep: true,\n    },\n    isWeekView(val) {\n      if (!val) {\n        this.isSelectedCurrentDate = false;\n        this.changeAllData(this.dataArr);\n      }\n    },\n  },\n  methods: {\n    // 更新轮播数组\n    changeAllData(val) {\n      if (this.isSelectedCurrentDate && !this.isWeekView) return;\n\n      const preDate = this.getPreMonth();\n      const preDataArr = this.getMonthData(preDate, true);\n      const nextDate = this.getNextMonth();\n      const nextDataArr = this.getMonthData(nextDate, true);\n\n      if (this.isWeekView) {\n        const sliceStart = this.dealWeekViewSliceStart();\n        preDataArr.splice(sliceStart, 7, ...this.lastWeek);\n        nextDataArr.splice(sliceStart, 7, ...this.nextWeek);\n      }\n\n      const delayHandle = (isDelay) => {\n        this.allDataArr = [preDataArr, val, nextDataArr];\n        this.needAnimation = false;\n        this.translateIndex = 0;\n        if (isDelay) this.isDelay = false;\n      };\n\n      if (this.isDelay) {\n        delayHandle(this.isDelay);\n        return;\n      }\n\n      setTimeout(\n          () => {\n            delayHandle();\n          },\n          this.isClicked && this.isWeekView ? 0 : this.transitionDuration * 1000\n      );\n    },\n    // 获取当前日期\n    getCurrentDate() {\n      this.selectData = {\n        year: new Date().getFullYear(),\n        month: new Date().getMonth() + 1,\n        day: new Date().getDate(),\n      };\n    },\n    // 获取指定月份数据\n    getMonthData(date, unSelected = false) {\n      const {year, month, day} = date;\n      let dataArr = [];\n      let daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n      if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) {\n        daysInMonth[1] = 29;\n      }\n\n      const monthStartWeekDay = new Date(year, month - 1, 1).getDay();\n      const monthEndWeekDay = new Date(year, month, 1).getDay() || 7;\n\n      const preInfo = this.getPreMonth(date);\n      const nextInfo = this.getNextMonth();\n\n      for (let i = 0; i < monthStartWeekDay; i++) {\n        let preObj = {\n          type: \"pre\",\n          day: daysInMonth[preInfo.month - 1] - (monthStartWeekDay - i - 1),\n          month: preInfo.month,\n          year: preInfo.year,\n        };\n        dataArr.push(preObj);\n      }\n\n      for (let i = 0; i < daysInMonth[month - 1]; i++) {\n        let itemObj = {\n          type: \"normal\",\n          day: i + 1,\n          month,\n          year,\n          isSelected: day === i + 1 && !unSelected,\n        };\n        dataArr.push(itemObj);\n      }\n\n      for (let i = 0; i < 7 - monthEndWeekDay; i++) {\n        let nextObj = {\n          type: \"next\",\n          day: i + 1,\n          month: nextInfo.month,\n          year: nextInfo.year,\n        };\n        dataArr.push(nextObj);\n      }\n\n      return dataArr;\n    },\n    // 点选切换日期\n    checkoutDate(selectData) {\n      this.isSelectedCurrentDate = true;\n      this.isClicked = true;\n\n      if (this.isWeekView && selectData.type !== \"normal\") {\n        this.needAnimation = false;\n        this.needHeightAnimation = false;\n      }\n\n      if (selectData.type === \"next\") {\n        this.translateIndex += 1;\n        this.dealMonthData(\"NEXT_MONTH\", selectData.day);\n        return;\n      }\n\n      if (selectData.type === \"pre\") {\n        this.translateIndex -= 1;\n        this.dealMonthData(\"PRE_MONTH\", selectData.day);\n        return;\n      }\n\n      this.selectData.day = selectData.day;\n      const oldSelectIndex = this.dataArr.findIndex(\n          (item) => item.isSelected && item.type === \"normal\"\n      );\n      const newSelectIndex = this.dataArr.findIndex(\n          (item) => item.day === selectData.day && item.type === \"normal\"\n      );\n\n      if (this.dataArr[oldSelectIndex])\n        this.$set(this.dataArr[oldSelectIndex], \"isSelected\", false);\n      if (this.dataArr[newSelectIndex])\n        this.$set(this.dataArr[newSelectIndex], \"isSelected\", true);\n    },\n    // 获取前(后)一个月的年月日信息\n    getPreMonth(date, appointDay = 1) {\n      let {year, month} = date || this.selectData;\n      if (month === 1) {\n        year -= 1;\n        month = 12;\n      } else {\n        month -= 1;\n      }\n\n      return {year, month, day: appointDay};\n    },\n    getNextMonth(appointDay = 1) {\n      let {year, month} = this.selectData;\n      if (month === 12) {\n        year += 1;\n        month = 1;\n      } else {\n        month += 1;\n      }\n\n      return {year, month, day: appointDay};\n    },\n    // 切换上(下)一月\n    handlePreMonth() {\n      this.dealMonthData(\"PRE_MONTH\");\n    },\n    handleNextMonth() {\n      this.dealMonthData(\"NEXT_MONTH\");\n    },\n    // 处理月数据\n    dealMonthData(type, appointDay = 1) {\n      this.isSelectedCurrentDate = false;\n\n      switch (type) {\n        case \"PRE_MONTH\":\n          this.selectData = this.getPreMonth(\"\", appointDay);\n          break;\n        case \"NEXT_MONTH\":\n          this.selectData = this.getNextMonth(appointDay);\n          break;\n        default:\n          break;\n      }\n\n      this.dataArr = this.getMonthData(this.selectData);\n      this.lineNum = Math.ceil(this.dataArr.length / 7);\n    },\n    // 今日\n    checkoutCurrentDate() {\n      this.isDelay = true;\n      this.getCurrentDate();\n      this.dealMonthData();\n    },\n    // touch事件\n    touchStart(event) {\n      this.isTouching = true;\n      this.needAnimation = true;\n      this.isClicked = false;\n\n      this.touchStartPositionX = event.touches[0].clientX;\n      this.touchStartPositionY = event.touches[0].clientY;\n      this.touch = {\n        x: 0,\n      };\n    },\n    touchMove(event) {\n      const moveX = event.touches[0].clientX - this.touchStartPositionX;\n      const moveY = event.touches[0].clientY - this.touchStartPositionY;\n\n      if (Math.abs(moveX) > Math.abs(moveY)) {\n        // 左右\n        this.needHeightAnimation = false;\n        this.touch = {\n          x: moveX / this.$refs.calendar.offsetWidth,\n          y: 0,\n        };\n      } else {\n        // 上下\n        this.needHeightAnimation = true;\n        this.touch = {\n          x: 0,\n          y: moveY / this.$refs.calendar.offsetHeight,\n        };\n      }\n    },\n    touchEnd() {\n      this.isTouching = false;\n      const {x, y} = this.touch;\n\n      // 月视图\n      if (Math.abs(x) > Math.abs(y) && Math.abs(x) > 0.3) {\n        if (x > 0) {\n          // 左\n          this.translateIndex -= 1;\n          this.isWeekView ? this.handlePreWeek() : this.handlePreMonth();\n        } else if (x < 0) {\n          // 右\n          this.translateIndex += 1;\n          this.isWeekView ? this.handleNextWeek() : this.handleNextMonth();\n        }\n      }\n\n      // 周视图\n      if (\n          Math.abs(y) > Math.abs(x) &&\n          Math.abs(y * this.$refs.calendar.offsetHeight) > 50\n      ) {\n        if (y > 0) {\n          // 下\n          this.isWeekView = false;\n          this.offsetY = 0;\n        } else if (y < 0) {\n          // 上\n          this.isWeekView = true;\n          this.dealWeekViewData();\n        }\n      }\n\n      this.touch = {\n        x: 0,\n        y: 0,\n      };\n    },\n    // 周视图的位置信息\n    getInfoOfWeekView(selectedIndex, length) {\n      const indexOfLine = Math.ceil((selectedIndex + 1) / 7);\n      const totalLine = Math.ceil(length / 7);\n      const sliceStart = (indexOfLine - 1) * 7;\n      const sliceEnd = sliceStart + 7;\n\n      return {indexOfLine, totalLine, sliceStart, sliceEnd};\n    },\n    // 生成前(后)一周数据\n    dealWeekViewSliceStart() {\n      const selectedIndex = this.dataArr.findIndex((item) => item.isSelected);\n      const {indexOfLine, totalLine, sliceStart, sliceEnd} =\n          this.getInfoOfWeekView(selectedIndex, this.dataArr.length);\n\n      this.offsetY = -((indexOfLine - 1) * this.itemHeight);\n\n      // 前一周数据\n      if (indexOfLine === 1) {\n        const preInfo = this.getPreMonth();\n        const preDataArr = this.getMonthData(preInfo, true);\n        const preDay =\n            this.dataArr[0].day - 1 || preDataArr[preDataArr.length - 1].day;\n        const preIndex = preDataArr.findIndex(\n            (item) => item.day === preDay && item.type === \"normal\"\n        );\n        const {sliceStart: preSliceStart, sliceEnd: preSliceEnd} =\n            this.getInfoOfWeekView(preIndex, preDataArr.length);\n        this.lastWeek = preDataArr.slice(preSliceStart, preSliceEnd);\n      } else {\n        this.lastWeek = this.dataArr.slice(sliceStart - 7, sliceEnd - 7);\n      }\n\n      // 后一周数据\n      if (indexOfLine >= totalLine) {\n        const nextInfo = this.getNextMonth();\n        const nextDataArr = this.getMonthData(nextInfo, true);\n        const nextDay =\n            this.dataArr[this.dataArr.length - 1].type === \"normal\"\n                ? 1\n                : this.dataArr[this.dataArr.length - 1].day + 1;\n        const nextIndex = nextDataArr.findIndex((item) => item.day === nextDay);\n        const {sliceStart: nextSliceStart, sliceEnd: nextSliceEnd} =\n            this.getInfoOfWeekView(nextIndex, nextDataArr.length);\n        this.nextWeek = nextDataArr.slice(nextSliceStart, nextSliceEnd);\n      } else {\n        this.nextWeek = this.dataArr.slice(sliceStart + 7, sliceEnd + 7);\n      }\n\n      return sliceStart;\n    },\n    // 切换上(下)一周\n    handlePreWeek() {\n      this.dealWeekData(\"PRE_WEEK\");\n    },\n    handleNextWeek() {\n      this.dealWeekData(\"NEXT_WEEK\");\n    },\n    // 处理周数据\n    dealWeekData(type) {\n      const {year, month, day} =\n          type === \"PRE_WEEK\"\n              ? this.lastWeek.find((item) => item.type === \"normal\")\n              : this.nextWeek[0];\n      this.selectData = {year, month, day};\n      this.dataArr = this.getMonthData(this.selectData);\n      this.lineNum = Math.ceil(this.dataArr.length / 7);\n      this.offsetY -= this.itemHeight;\n      this.dealWeekViewData();\n    },\n    // 处理上(下)一周数据\n    dealWeekViewData() {\n      const sliceStart = this.dealWeekViewSliceStart();\n      this.allDataArr[0].splice(sliceStart, 7, ...this.lastWeek);\n      this.allDataArr[2].splice(sliceStart, 7, ...this.nextWeek);\n    },\n  },\n};\n</script>\n\n<style>\n.calendar {\n  overflow-x: hidden;\n  /*width: 385px;*/\n  /*height: 440px;*/\n  display: inline;\n  text-align: center;\n}\n\n.header {\n  padding: 0 5px;\n  font-size: 18px;\n  font-weight: 500;\n  color: #2b4450;\n  line-height: 44px;\n  margin: 0 calc((14.285% - 40px) / 2 + 6px);\n}\n\n.calendar-item {\n  display: block;\n  width: 40px;\n  height: 40px;\n  text-align: center;\n  line-height: 40px;\n}\n\n.selected .calendar-item {\n  background: #2b4450;\n  border-radius: 50%;\n  color: #fff;\n}\n\n.week-area {\n  width: 100%;\n  display: flex;\n}\n\n.week-item {\n  height: 45px;\n  flex: 0 0 14.285%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.week-font {\n  font-size: 15px;\n  color: #2b4450;\n  font-weight: 500;\n}\n\n.data-container {\n  overflow: hidden;\n  position: relative;\n}\n\n.banner-area {\n  width: 300%;\n  display: flex;\n}\n\n.data-area {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-flow: row wrap;\n}\n\n.data-item {\n  flex: 0 0 14.285%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.data-font {\n  color: #2b4450;\n  font-size: 18px;\n  font-weight: 400;\n}\n\n.other-item .data-font {\n  color: #ccc;\n}\n\n.touch-area {\n  width: 100%;\n  box-sizing: border-box;\n  background-color: #fff;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n}\n\n.touch-container {\n  width: 100%;\n  box-sizing: border-box;\n  border-top: 0.5px solid #eee;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.touch-item {\n  width: 40px;\n  height: 5px;\n  background: #2b4450;\n  border-radius: 100px;\n  opacity: 0.6;\n}\n</style>\n"]}]}